@rendermode InteractiveServer
@using FinancialPlanner.Blazor.Services
@inject ICurrentUserService CurrentUserService
@inject NavigationManager NavigationManager

<a href="#" class="@CssClass" @onclick="HandleLogout" @onclick:preventDefault>
    <span class="bi bi-box-arrow-right-nav-menu" aria-hidden="true"></span> @Text
</a>

@code {
    [Parameter]
    public string Text { get; set; } = "Logout";

    [Parameter]
    public string CssClass { get; set; } = string.Empty;

    private void HandleLogout()
    {
        CurrentUserService.ClearCache();
        NavigationManager.NavigateTo("/logout", forceLoad: true);
    }
}
